<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.text.Text?>

<BorderPane xmlns:fx="http://javafx.com/fxml" fx:controller="com.example.philoxapp.organisationSignup.OrganisationSignupStep2Controller"
            prefWidth="900" prefHeight="700"
            style="-fx-background-color: linear-gradient(to bottom right, #f7f9fc, #e6ebf5);">

    <!-- HEADER -->
    <top>
        <HBox spacing="15" alignment="CENTER_LEFT"
              style="-fx-background-color: white; -fx-padding: 15 30; -fx-border-color: #ddd; -fx-border-width: 0 0 1 0;">
            <ImageView fx:id="logoImage" fitHeight="30" fitWidth="30" />
            <Label text="Philox" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #274C56;" />
            <Region HBox.hgrow="ALWAYS"/>
            <Button fx:id="loginButton" text="Login" onAction="#handleLoginRedirect"
                    style="-fx-background-color: transparent; -fx-border-color: #274C56; -fx-text-fill: #274C56;
                           -fx-border-radius: 6; -fx-font-weight: bold; -fx-font-size: 14px; -fx-padding: 8 24;" />
        </HBox>
    </top>

    <!-- MAIN CONTENT -->
    <center>
        <ScrollPane fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED"
                    style="-fx-background-color: transparent;">
        <VBox spacing="20" alignment="TOP_CENTER" style="-fx-padding: 30;">
            <!-- Heading and Subtext -->
            <VBox spacing="5" alignment="CENTER">
                <Label text="Online presence and point of contact"
                       style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #274C56;" />
                <Label text="Enter your website, social links, and representative details."
                       style="-fx-font-size: 14px; -fx-text-fill: #666;" />
            </VBox>

            <!-- Step Indicator -->
            <HBox alignment="CENTER" spacing="10">
                <VBox alignment="CENTER" spacing="5">
                    <StackPane>
                        <Circle radius="16" style="-fx-fill: #4CAF50;" />
                        <Text text="âœ“" style="-fx-fill: white; -fx-font-weight: bold;" />
                    </StackPane>
                    <Label text="Basic Information" style="-fx-font-weight: bold; -fx-text-fill: #4CAF50;" />
                </VBox>
                <Region HBox.hgrow="ALWAYS" maxWidth="100" minWidth="50"
                        style="-fx-background-color: #4CAF50; -fx-max-height: 2;" />
                <VBox alignment="CENTER" spacing="5">
                    <StackPane>
                        <Circle radius="16" style="-fx-fill: #009689;" />
                        <Text text="2" style="-fx-fill: white; -fx-font-weight: bold;" />
                    </StackPane>
                    <Label text="Online Presence" style="-fx-font-weight: bold; -fx-text-fill: #274C56;" />
                </VBox>
                <Region HBox.hgrow="ALWAYS" maxWidth="100" minWidth="50"
                        style="-fx-background-color: #ddd; -fx-max-height: 2;" />
                <VBox alignment="CENTER" spacing="5">
                    <StackPane>
                        <Circle radius="16" style="-fx-fill: #ddd;" />
                        <Text text="3" style="-fx-fill: #888; -fx-font-weight: bold;" />
                    </StackPane>
                    <Label text="Verification &amp; Proofs" style="-fx-text-fill: #888;" />
                </VBox>
            </HBox>

            <!-- Main Form Box -->
            <VBox spacing="20" alignment="TOP_CENTER" maxWidth="800"
                  style="-fx-background-color: white; -fx-background-radius: 12; -fx-padding: 30;
                         -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.25), 20, 0.3, 0, 4);">

                <!-- Social Media Section -->
                <VBox spacing="16">
                    <Label text="Social Media Links" style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: #274C56;" />
                    <HBox spacing="20">
                        <VBox spacing="4" HBox.hgrow="ALWAYS">
                            <Label text="Website Link *" style="-fx-font-weight: bold;" />
                            <TextField fx:id="websiteField" promptText="https://www.yourorg.com"
                                       style="-fx-padding: 10 12; -fx-background-radius: 8; -fx-border-radius: 8; -fx-border-color: #ccc;" />
                            <Label fx:id="websiteErrorLabel" text="" visible="false" managed="false"
                                   style="-fx-text-fill: #E24560; -fx-font-size: 12px;" />
                        </VBox>
                        <VBox spacing="4" HBox.hgrow="ALWAYS">
                            <Label text="LinkedIn (Optional)" style="-fx-font-weight: bold;" />
                            <TextField fx:id="linkedInField" promptText="linkedin.com/yourorg"
                                       style="-fx-padding: 10 12; -fx-background-radius: 8; -fx-border-radius: 8; -fx-border-color: #ccc;" />
                        </VBox>
                    </HBox>
                    <HBox spacing="20">
                        <VBox spacing="4" HBox.hgrow="ALWAYS">
                            <Label text="Instagram (Optional)" style="-fx-font-weight: bold;" />
                            <TextField fx:id="instagramField" promptText="instagram.com/yourorg"
                                       style="-fx-padding: 10 12; -fx-background-radius: 8; -fx-border-radius: 8; -fx-border-color: #ccc;" />
                        </VBox>
                        <VBox spacing="4" HBox.hgrow="ALWAYS">
                            <Label text="Facebook (Optional)" style="-fx-font-weight: bold;" />
                            <TextField fx:id="facebookField" promptText="facebook.com/yourorg"
                                       style="-fx-padding: 10 12; -fx-background-radius: 8; -fx-border-radius: 8; -fx-border-color: #ccc;" />
                        </VBox>
                    </HBox>
                </VBox>

                <!-- Representative Section -->
                <VBox spacing="16">
                    <Label text="Representative Details" style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: #274C56;" />
                    <HBox spacing="20">
                        <VBox spacing="4" HBox.hgrow="ALWAYS">
                            <Label text="Full Name *" style="-fx-font-weight: bold;" />
                            <TextField fx:id="repNameField" promptText="Enter Full Name"
                                       style="-fx-padding: 10 12; -fx-background-radius: 8; -fx-border-radius: 8; -fx-border-color: #ccc;" />
                        </VBox>
                        <VBox spacing="4" HBox.hgrow="ALWAYS">
                            <Label text="Contact Number *" style="-fx-font-weight: bold;" />
                            <TextField fx:id="repPhoneField" promptText="03XX-XXXXXXX"
                                       style="-fx-padding: 10 12; -fx-background-radius: 8; -fx-border-radius: 8; -fx-border-color: #ccc;" />
                            <Label fx:id="phoneErrorLabel" text="" visible="false" managed="false"
                                   style="-fx-text-fill: #E24560; -fx-font-size: 12px;" />
                        </VBox>
                    </HBox>
                    <HBox spacing="20">
                        <VBox spacing="4" HBox.hgrow="ALWAYS">
                            <Label text="Email *" style="-fx-font-weight: bold;" />
                            <TextField fx:id="repEmailField" promptText="your.email@example.com"
                                       style="-fx-padding: 10 12; -fx-background-radius: 8; -fx-border-radius: 8; -fx-border-color: #ccc;" />
                            <Label fx:id="repEmailErrorLabel" text="" visible="false" managed="false"
                                   style="-fx-text-fill: #E24560; -fx-font-size: 12px;" />
                        </VBox>
                        <VBox spacing="4" HBox.hgrow="ALWAYS">
                            <Label text="CNIC *" style="-fx-font-weight: bold;" />
                            <TextField fx:id="repCnicField" promptText="12345-1234567-1"
                                       style="-fx-padding: 10 12; -fx-background-radius: 8; -fx-border-radius: 8; -fx-border-color: #ccc;" />
                            <Label fx:id="cnicErrorLabel" text="" visible="false" managed="false"
                                   style="-fx-text-fill: #E24560; -fx-font-size: 12px;" />
                        </VBox>
                    </HBox>
                </VBox>

                <!-- Terms & Conditions -->
                <HBox alignment="CENTER_LEFT" style="-fx-padding: 10 0 0 0;">
                    <CheckBox fx:id="termsCheckbox" text="I agree to the terms &amp; community guidelines"
                              style="-fx-font-size: 13px; -fx-text-fill: #444;" />
                </HBox>

                <!-- Navigation Buttons -->
                <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-padding: 20 0 0 0;">
                    <Button fx:id="continueButton" text="Save &amp; Continue" onAction="#handleSaveAndContinue"
                            prefWidth="200"
                            style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-background-radius: 10;
                   -fx-font-weight: bold; -fx-font-size: 15px; -fx-padding: 10 0;" />

                    <Button fx:id="backButton" text="Back to Stage 1" onAction="#handleGoBack"
                            prefWidth="140" minHeight="32"
                            style="-fx-background-color: transparent; -fx-border-color: #aaa; -fx-text-fill: #555;
                   -fx-border-radius: 8; -fx-background-radius: 8; -fx-font-weight: normal;
                   -fx-font-size: 13px; -fx-padding: 6 12;" />
                </HBox>
                <!-- Login Prompt -->
                <HBox alignment="CENTER" spacing="5" style="-fx-padding-top: 10;">
                    <Label text="Already have an account?" />
                    <Hyperlink text="Login here" onAction="#handleLoginRedirect"
                               style="-fx-text-fill: #61A04D;" />
                </HBox>
            </VBox>
        </VBox>
        </ScrollPane>
    </center>
</BorderPane>