<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.geometry.Insets?>


<VBox  xmlns:fx="http://javafx.com/fxml"
       prefWidth="1000" prefHeight="700"
       style="-fx-background-color: linear-gradient(to bottom right, #f7f9fc, #e6ebf5);">

    <ScrollPane fitToWidth="true"
                pannable="true"
                hbarPolicy="NEVER"
                vbarPolicy="AS_NEEDED"
                style="-fx-background-color: transparent;
                       -fx-control-inner-background: transparent;
                       -fx-background: transparent;
                       -fx-border-color: transparent;">
        <content>
            <VBox spacing="20" alignment="TOP_CENTER"
                  style="-fx-padding: 30; -fx-background-color: transparent;"
                  prefWidth="800">

                <!-- PAGE HEADING -->
                <VBox spacing="8" alignment="TOP_LEFT">
                    <Label fx:id="headerTitleLabel" text="My Profile"
                           style="-fx-font-size: 26px; -fx-text-fill: #274C56;" />
                    <Label fx:id="headerSubtitleLabel" text="Manage your personal information and view your volunteer history."
                           style="-fx-font-size: 14px; -fx-text-fill: #4A5565;" />
                </VBox>

                <!-- PROFILE SUMMARY BOX -->
                <HBox spacing="20" alignment="CENTER_LEFT"
                      style="-fx-background-color: white; -fx-background-radius: 12; -fx-padding: 20;
                                 -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0.3, 0, 2);">

                    <!-- Initials Circle -->
                    <StackPane prefWidth="60" prefHeight="60"
                               style="-fx-background-color: #009689; -fx-background-radius: 30;">
                        <Label fx:id="initialsLabel" text="SA"
                               style="-fx-text-fill: white; -fx-font-size: 20px; -fx-font-weight: bold;" />
                    </StackPane>

                    <!-- User Info -->
                    <VBox spacing="8">

                        <Label fx:id="nameLabel" text="Sarah Arslan"
                               style="-fx-font-size: 18px; -fx-text-fill: #274C56;" />

                        <!-- FIXED CONTACT ROW: Email + Phone + Location -->
                        <HBox spacing="15" alignment="CENTER_LEFT">

                            <!-- EMAIL BLOCK (fixed) -->
                            <HBox spacing="5" alignment="CENTER_LEFT">
                                <ImageView fx:id="summaryEmailIcon" fitHeight="14" fitWidth="14" />
                                <Label fx:id="emailLabel"
                                       text="sarah.miller@email.com"
                                       style="-fx-text-fill: #4A5565; -fx-font-size: 14px;" />
                            </HBox>

                            <!-- PHONE BLOCK -->
                            <HBox spacing="5" alignment="CENTER_LEFT">
                                <ImageView fx:id="phoneIcon" fitHeight="14" fitWidth="14" />
                                <Label fx:id="phoneLabel" text="+92 300 1234567"
                                       style="-fx-text-fill: #4A5565; -fx-font-size: 14px;" />
                            </HBox>

                            <!-- LOCATION BLOCK -->
                            <HBox spacing="5" alignment="CENTER_LEFT">
                                <ImageView fx:id="locationIcon" fitHeight="14" fitWidth="14" />
                                <Label fx:id="cityLabel" text="Karachi"
                                       style="-fx-text-fill: #4A5565; -fx-font-size: 14px;" />
                            </HBox>
                        </HBox>
                    </VBox>
                </HBox>

                <!-- PILL TAB SWITCHER -->
                <HBox alignment="CENTER_LEFT">
                    <StackPane>
                        <HBox fx:id="pillTabBar" spacing="5" alignment="CENTER_LEFT" prefWidth="380"
                              style="-fx-background-color: #ECECF0; -fx-background-radius: 30; -fx-padding: 6 8;">
                            <Button fx:id="personalInfoTab" text="Personal Information" onAction="#handlePersonalInfoClick"
                                    style="-fx-background-color: transparent; -fx-text-fill: #4A5565;
                                               -fx-background-radius: 20; -fx-padding: 6 18;" />
                            <Button fx:id="portfolioTab" text="Portfolio" onAction="#handlePortfolioClick"
                                    style="-fx-background-color: #FFFFFF; -fx-text-fill: #274C56; -fx-font-weight: bold;
                                               -fx-background-radius: 20; -fx-padding: 6 18;" />
                            <Button fx:id="achievementsTab" text="Achievements" onAction="#handleAchievementsClick"
                                    style="-fx-background-color: transparent; -fx-text-fill: #4A5565;
                                               -fx-background-radius: 20; -fx-padding: 6 18;" />
                        </HBox>
                    </StackPane>
                </HBox>

                <!-- VOLUNTEER PORTFOLIO BOX -->
                <VBox spacing="8" alignment="TOP_LEFT"
                      style="-fx-background-color: white; -fx-background-radius: 12; -fx-padding: 20 30 20 30;
                                 -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.25), 20, 0.3, 0, 4);">

                    <!-- Header with Edit Button -->
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Label text="Volunteer Portfolio"
                               style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #274C56;" />
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button fx:id="portfolioEditButton" onAction="#handlePortfolioEditClick"
                                style="-fx-background-color: transparent; -fx-border-color: #949494; -fx-border-radius: 8;
                                           -fx-text-fill: #0A0A0A; -fx-padding: 6 18; -fx-font-size: 14px;">
                            <graphic>
                                <HBox alignment="CENTER" spacing="6">
                                    <ImageView fx:id="portfolioEditIcon" fitHeight="14" fitWidth="14" />
                                    <Label text="Edit" style="-fx-text-fill: #0A0A0A;" />
                                </HBox>
                            </graphic>
                        </Button>
                    </HBox>

                    <!-- Combined Bio + Skills Section -->
                    <VBox spacing="12">

                        <!-- Bio Section -->
                        <VBox spacing="4">
                            <Label text="Bio"
                                   style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #4A5565;" />
                            <Label fx:id="bioLabel"
                                   wrapText="true"
                                   style="-fx-text-fill: #4A5565; -fx-font-size: 14px;" />
                            <TextField fx:id="bioField"
                                       promptText="Write your bio here..."
                                       visible="false" managed="false"
                                       style="-fx-background-color: #F9FAFB; -fx-text-fill: #0A0A0A; -fx-padding: 8 10;
                                                  -fx-background-radius: 8; -fx-border-radius: 8; -fx-border-color: #ccc;" />
                        </VBox>

                        <!-- Skills Section -->
                        <VBox spacing="2">
                            <Label text="Skills"
                                   style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #4A5565;" />
                            <Label fx:id="skillsLabel"
                                   wrapText="true"
                                   style="-fx-text-fill: #4A5565; -fx-font-size: 14px;" />
                            <VBox fx:id="skillsEditContainer" spacing="8" visible="false" managed="false">
                                <TextField fx:id="skillInputField"
                                           promptText="Type a skill and press Enter"
                                           onAction="#handleSkillInput"
                                           style="-fx-background-color: #F9FAFB; -fx-text-fill: #0A0A0A; -fx-padding: 6 8;
                                                      -fx-background-radius: 8; -fx-border-radius: 8; -fx-border-color: #ccc;" />
                                <FlowPane fx:id="skillTagPane" hgap="6" vgap="6" style="-fx-padding: 0;" />
                            </VBox>
                        </VBox>

                        <!-- Completed Opportunities Section -->
                        <VBox spacing="12">
                            <Label text="Completed Opportunities"
                                   style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #274C56;" />

                            <VBox fx:id="completedOpportunitiesContainer" spacing="12" style="-fx-padding: 4 0;" />
                        </VBox>
                    </VBox>
                </VBox>
            </VBox>
        </content>
    </ScrollPane>
</VBox>