<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.text.FontWeight?>
<?import javafx.scene.image.ImageView?>
<StackPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="com.example.philoxapp.volunteerScreens.VolunteerApplicationTrackingController"
           style="-fx-background-color: linear-gradient(to bottom right, #f7f9fc, #e6ebf5);">
    <BorderPane>
        <!-- SIDEBAR -->
        <left>
            <VBox fx:id="sidebarContainer" alignment="TOP_LEFT" prefWidth="250" spacing="15"
                  style="-fx-background-color: #FFFFFF; -fx-border-width: 0 1 0 0; -fx-border-color: #e0e0e0;">
                <!-- SidePanel will be added here dynamically -->
            </VBox>
        </left>

        <center>
            <VBox spacing="16" style="-fx-padding: 28;">
                <VBox spacing="6">
                    <Label text="My Applications" style="-fx-text-fill: #274C56; -fx-font-size: 28px; -fx-font-weight: 500;"/>
                    <Label text="Track the status of your volunteer applications."
                           style="-fx-text-fill: #6B7280; -fx-font-size: 14px;"/>
                </VBox>

                <!-- Filter Controls -->
                <HBox spacing="12" alignment="CENTER_LEFT" style="-fx-padding: 0 4;">
                    <Label text="Filter by Status:" style="-fx-text-fill: #374151; -fx-font-size: 14px; -fx-font-weight: 600;"/>
                    <ComboBox fx:id="statusFilterComboBox" prefWidth="180"
                              style="-fx-background-color: white; -fx-border-color: #D1D5DB; -fx-border-radius: 6; -fx-background-radius: 6;"/>
                </HBox>

                <VBox spacing="0" style="-fx-padding: 12; -fx-background-radius: 10; -fx-border-radius: 10; -fx-border-color: #E5E7EB; -fx-border-width: 1; -fx-background-color: white;">
                    <HBox spacing="24" style="-fx-padding: 14 16; -fx-alignment: CENTER_LEFT; -fx-border-color: transparent transparent #E5E7EB transparent; -fx-border-width: 0 0 1 0;">
                        <Label text="Opportunity" style="-fx-font-weight: 700; -fx-font-size: 14px; -fx-pref-width: 300;"/>
                        <Label text="Organisation" style="-fx-font-weight: 700; -fx-font-size: 14px; -fx-pref-width: 240;"/>
                        <Label text="Date Applied" style="-fx-font-weight: 700; -fx-font-size: 14px; -fx-pref-width: 160;"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Label text="Status" style="-fx-font-weight:700; -fx-font-size: 14px; -fx-pref-width: 120;"/>
                        <Label text="Actions" style="-fx-font-weight: 700; -fx-font-size: 14px; -fx-pref-width: 120;"/>
                    </HBox>

                    <!-- rows -->

                    <GridPane hgap="4" vgap="0" style="-fx-padding: 0 0 0 0;">
                        <columnConstraints>
                            <ColumnConstraints prefWidth="300" />
                            <ColumnConstraints prefWidth="240" />
                            <ColumnConstraints prefWidth="160" />
                            <ColumnConstraints hgrow="ALWAYS" />
                            <ColumnConstraints prefWidth="120" />
                            <ColumnConstraints prefWidth="120" />
                        </columnConstraints>

                        <!-- row 1 (content) -->
                        <Label fx:id="opp1Label" GridPane.columnIndex="0" GridPane.rowIndex="0"
                               style="-fx-pref-width: 300; -fx-wrap-text: false; -fx-padding: 12 0 12 0;" />
                        <Label fx:id="org1Label" GridPane.columnIndex="1" GridPane.rowIndex="0"
                               style="-fx-pref-width: 240; -fx-padding: 12 0 12 0;"/>
                        <Label fx:id="date1Label" GridPane.columnIndex="2" GridPane.rowIndex="0"
                               style="-fx-pref-width: 160; -fx-padding: 12 0 12 0;"/>
                        <Label fx:id="status1Label" GridPane.columnIndex="4" GridPane.rowIndex="0"
                               style="-fx-pref-width: 120; -fx-padding: 12 0 12 0;"/>
                        <Hyperlink fx:id="view1Link" text="View Details" GridPane.columnIndex="5" GridPane.rowIndex="0"
                                   style="-fx-pref-width: 120; -fx-padding: 12 0 12 20; -fx-text-fill: #009689; -fx-underline: false;" />

                        <!-- thin custom separator -->
                        <Region GridPane.columnIndex="0" GridPane.rowIndex="1" GridPane.columnSpan="6"
                                prefHeight="1" maxHeight="1" style="-fx-background-color: #DEDEDE;" />

                        <!-- row 2 (content) -->
                        <Label fx:id="opp2Label" GridPane.columnIndex="0" GridPane.rowIndex="2"
                               style="-fx-pref-width: 300; -fx-padding: 12 0 12 0;"/>
                        <Label fx:id="org2Label" GridPane.columnIndex="1" GridPane.rowIndex="2"
                               style="-fx-pref-width: 240; -fx-padding: 12 0 12 0;"/>
                        <Label fx:id="date2Label" GridPane.columnIndex="2" GridPane.rowIndex="2"
                               style="-fx-pref-width: 160; -fx-padding: 12 0 12 0;"/>
                        <Label fx:id="status2Label" GridPane.columnIndex="4" GridPane.rowIndex="2"
                               style="-fx-pref-width: 120; -fx-padding: 12 0 12 0;"/>
                        <Hyperlink fx:id="view2Link" text="View Details" GridPane.columnIndex="5" GridPane.rowIndex="2"
                                   style="-fx-pref-width: 120; -fx-padding: 12 0 12 20; -fx-text-fill: #009689; -fx-underline: false;" />

                        <!-- thin custom separator -->
                        <Region GridPane.columnIndex="0" GridPane.rowIndex="3" GridPane.columnSpan="6"
                                prefHeight="1" maxHeight="1" style="-fx-background-color: #DEDEDE;" />

                        <!-- row 3 (content) -->
                        <Label fx:id="opp3Label" GridPane.columnIndex="0" GridPane.rowIndex="4"
                               style="-fx-pref-width: 300; -fx-padding: 12 0 12 0;"/>
                        <Label fx:id="org3Label" GridPane.columnIndex="1" GridPane.rowIndex="4"
                               style="-fx-pref-width: 240; -fx-padding: 12 0 12 0;"/>
                        <Label fx:id="date3Label" GridPane.columnIndex="2" GridPane.rowIndex="4"
                               style="-fx-pref-width: 160; -fx-padding: 12 0 12 0;"/>
                        <Label fx:id="status3Label" GridPane.columnIndex="4" GridPane.rowIndex="4"
                               style="-fx-pref-width: 120; -fx-padding: 12 0 12 0;"/>
                        <Hyperlink fx:id="view3Link" text="View Details" GridPane.columnIndex="5" GridPane.rowIndex="4"
                                   style="-fx-pref-width: 120; -fx-padding: 12 0 12 20; -fx-text-fill: #009689; -fx-underline: false;" />

                        <!-- thin custom separator -->
                        <Region GridPane.columnIndex="0" GridPane.rowIndex="5" GridPane.columnSpan="6"
                                prefHeight="1" maxHeight="1" style="-fx-background-color: #DEDEDE;" />

                        <!-- row 4 (content) -->
                        <Label fx:id="opp4Label" GridPane.columnIndex="0" GridPane.rowIndex="6"
                               style="-fx-pref-width: 300; -fx-padding: 12 0 12 0;"/>
                        <Label fx:id="org4Label" GridPane.columnIndex="1" GridPane.rowIndex="6"
                               style="-fx-pref-width: 240; -fx-padding: 12 0 12 0;"/>
                        <Label fx:id="date4Label" GridPane.columnIndex="2" GridPane.rowIndex="6"
                               style="-fx-pref-width: 160; -fx-padding: 12 0 12 0;"/>
                        <Label fx:id="status4Label" GridPane.columnIndex="4" GridPane.rowIndex="6"
                               style="-fx-pref-width: 120; -fx-padding: 12 0 12 0;"/>
                        <Hyperlink fx:id="view4Link" text="View Details" GridPane.columnIndex="5" GridPane.rowIndex="6"
                                   style="-fx-pref-width: 120; -fx-padding: 12 0 12 20; -fx-text-fill: #009689; -fx-underline: false;" />

                        <!-- thin custom separator -->
                        <Region GridPane.columnIndex="0" GridPane.rowIndex="7" GridPane.columnSpan="6"
                                prefHeight="1" maxHeight="1" style="-fx-background-color: #DEDEDE;" />

                        <!-- row 5 (content) -->
                        <Label fx:id="opp5Label" GridPane.columnIndex="0" GridPane.rowIndex="8"
                               style="-fx-pref-width: 300; -fx-padding: 12 0 12 0;"/>
                        <Label fx:id="org5Label" GridPane.columnIndex="1" GridPane.rowIndex="8"
                               style="-fx-pref-width: 240; -fx-padding: 12 0 12 0;"/>
                        <Label fx:id="date5Label" GridPane.columnIndex="2" GridPane.rowIndex="8"
                               style="-fx-pref-width: 160; -fx-padding: 12 0 12 0;"/>
                        <Label fx:id="status5Label" GridPane.columnIndex="4" GridPane.rowIndex="8"
                               style="-fx-pref-width: 120; -fx-padding: 12 0 12 0;"/>
                        <Hyperlink fx:id="view5Link" text="View Details" GridPane.columnIndex="5" GridPane.rowIndex="8"
                                   style="-fx-pref-width: 120; -fx-padding: 12 0 12 20; -fx-text-fill: #009689; -fx-underline: false;" />
                    </GridPane>
                </VBox>
            </VBox>
        </center>
    </BorderPane>

        <!-- Modal overlay (centered) -->
    <AnchorPane fx:id="overlayPane" visible="false" pickOnBounds="true"
                style="-fx-background-color: rgba(0,0,0,0.25);" AnchorPane.topAnchor="0.0" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0">
        <VBox alignment="CENTER" AnchorPane.topAnchor="0.0" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0">
            <VBox spacing="8" style="-fx-padding: 12; -fx-background-color: white; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.12), 12,0,0,6);" maxWidth="640">
                <!-- Header -->
                <HBox alignment="CENTER_LEFT" spacing="8">
                    <Label text="Application Details" style="-fx-font-size: 16px; -fx-font-weight: 700;"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Button fx:id="closePopupButton" text="x" mnemonicParsing="false" style="-fx-background-color: transparent; -fx-font-weight: 600;" onAction="#closeApplicationPopup"/>
                </HBox>

                <!-- Grey info card -->
                <VBox style="-fx-background-color: #F7FAFC; -fx-padding: 14; -fx-background-radius: 8;" spacing="8">
                    <Label fx:id="popupOppTitle" style="-fx-font-size: 16px; -fx-font-weight: 600; -fx-text-fill: #1F2937;"/>
                    <HBox spacing="8" alignment="CENTER_LEFT">
                        <ImageView fx:id="popupOrgIcon" fitWidth="16" fitHeight="16" preserveRatio="true"/>
                        <Hyperlink fx:id="popupOrg" style="-fx-text-fill: #007bff; -fx-font-size: 13px; -fx-underline: true;"/>
                    </HBox>

                    <HBox spacing="12" alignment="CENTER_LEFT">
                        <ImageView fx:id="popupLocationIcon" fitWidth="16" fitHeight="16" preserveRatio="true"/>
                        <Label fx:id="popupLocation" style="-fx-text-fill: #4A5565; -fx-font-size: 13px;"/>
                    </HBox>

                    <HBox spacing="12" alignment="CENTER_LEFT">
                        <ImageView fx:id="popupCalendarIcon" fitWidth="16" fitHeight="16" preserveRatio="true"/>
                        <Label fx:id="popupDates" style="-fx-text-fill: #4A5565; -fx-font-size: 13px;"/>
                    </HBox>

                    <Label fx:id="popupStatusBadge" style="-fx-background-color: #FFFBEB; -fx-text-fill: #B45309; -fx-padding: 6 10; -fx-background-radius: 12; -fx-font-size: 12px; -fx-alignment: CENTER_LEFT; -fx-max-width: 120;"/>
                </VBox>

                <!-- Description outside the grey card -->
                <VBox spacing="8" style="-fx-padding: 8 4 12 4;">
                    <Label text="About this Opportunity" style="-fx-font-size: 14px; -fx-font-weight: 700; -fx-text-fill: #1F2937;"/>
                    <Label fx:id="popupDescription" wrapText="true" style="-fx-text-fill: #4A5565; -fx-font-size: 13px; -fx-max-width: 600;"/>
                </VBox>
                <HBox alignment="CENTER" style="-fx-padding: 12 0 16 0;">
                    <Button fx:id="rateOrgButton"
                            prefWidth="650"
                            text="Rate Organisation"
                            visible="false"
                            managed="false"
                            maxWidth="Infinity"
                            style="-fx-background-color: #009689; -fx-text-fill: white; -fx-background-radius: 8; -fx-padding: 12 18; -fx-font-size: 14px;"/>
                </HBox>
            </VBox>
        </VBox>
    </AnchorPane>

</StackPane>



