<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.*?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:id="rootPane"
            fx:controller="com.example.philoxapp.DatabasePanelController"
            prefWidth="1000" prefHeight="700"
            style="-fx-background-color: linear-gradient(to bottom right, #f7f9fc, #e6ebf5);">

    <!-- SIDEBAR -->
    <left>
        <VBox fx:id="sidebarContainer" alignment="TOP_LEFT" prefWidth="250" spacing="15"
              style="-fx-background-color: #FFFFFF; -fx-border-width: 0 1 0 0; -fx-border-color: #e0e0e0;">
            <!-- SidePanel will be added here dynamically -->
        </VBox>
    </left>

    <center>
        <!-- Main Content Area -->
        <VBox spacing="20" alignment="TOP_CENTER" style="-fx-padding: 30;">

            <!-- Header Section -->
            <VBox spacing="8" alignment="TOP_LEFT" maxWidth="Infinity">
                <Label text="Database Panel"
                       style="-fx-font-size: 26px; -fx-text-fill: #274C56;" />
                <Label text="View and inspect database table contents for system administration."
                       style="-fx-font-size: 14px; -fx-text-fill: #4A5565;" />
            </VBox>

            <!-- Table Selection Section -->
            <HBox spacing="15" alignment="CENTER_LEFT" maxWidth="Infinity"
                  style="-fx-background-color: white; -fx-background-radius: 12; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 15, 0.1, 0, 3);">

                <Label text="Select Table:"
                       style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #274C56;" />

                <ComboBox fx:id="tableSelector" prefWidth="200"
                         style="-fx-background-color: #F9FAFB; -fx-border-color: #D1D5DB; -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 8 12;" />

                <Button fx:id="loadTableButton" text="Load Table" onAction="#handleLoadTable"
                        style="-fx-background-color: #059669; -fx-text-fill: white; -fx-background-radius: 8; -fx-padding: 8 16; -fx-font-weight: bold; -fx-cursor: hand;" />

                <Region HBox.hgrow="ALWAYS" />

                <Label fx:id="recordCountLabel" text=""
                       style="-fx-font-size: 13px; -fx-text-fill: #6B7280;" />
            </HBox>

            <!-- Table Content Section -->
            <VBox spacing="15" alignment="TOP_CENTER" maxWidth="Infinity" VBox.vgrow="ALWAYS"
                  style="-fx-background-color: white; -fx-background-radius: 12; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 15, 0.1, 0, 3);">

                <!-- Table Header -->
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label fx:id="tableNameLabel" text="Select a table to view its contents"
                           style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #274C56;" />
                    <Region HBox.hgrow="ALWAYS" />
                    <Button fx:id="refreshButton" text="ðŸ”„ Refresh" onAction="#handleRefreshTable" visible="false"
                            style="-fx-background-color: #F3F4F6; -fx-text-fill: #374151; -fx-background-radius: 6; -fx-padding: 6 12; -fx-cursor: hand;" />
                </HBox>

                <!-- Data Display Area -->
                <TextArea fx:id="dataTextArea" VBox.vgrow="ALWAYS"
                         editable="false" wrapText="false"
                         style="-fx-background-color: white; -fx-border-color: #E5E7EB; -fx-border-radius: 8; -fx-font-family: 'Courier New', monospace; -fx-font-size: 12px; -fx-text-fill: #374151;" />

                <!-- Status/Info Section -->
                <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-padding: 10 0 0 0;">
                    <Label fx:id="statusLabel" text="Ready to load table data"
                           style="-fx-font-size: 12px; -fx-text-fill: #6B7280;" />
                    <Region HBox.hgrow="ALWAYS" />
                    <Label fx:id="lastUpdatedLabel" text=""
                           style="-fx-font-size: 11px; -fx-text-fill: #9CA3AF;" />
                </HBox>
            </VBox>

        </VBox>
    </center>
</BorderPane>
