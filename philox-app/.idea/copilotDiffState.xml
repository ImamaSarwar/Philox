<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/TestPasswordHashing.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/TestPasswordHashing.java" />
              <option name="updatedContent" value="import db.DBConnection;&#10;import db.InitDB;&#10;import utils.PasswordUtil;&#10;import java.sql.Connection;&#10;import java.sql.PreparedStatement;&#10;import java.sql.ResultSet;&#10;&#10;public class TestPasswordHashing {&#10;    public static void main(String[] args) {&#10;        try (Connection conn = DBConnection.getConnection()) {&#10;            System.out.println(&quot;=== Password Hashing Test ===&quot;);&#10;            &#10;            // Initialize database (create tables, load data, hash passwords)&#10;            InitDB.initializeDatabase(conn);&#10;            &#10;            // Test login simulation - check if plain text passwords work with hashed ones&#10;            System.out.println(&quot;\n=== Testing Login Simulation ===&quot;);&#10;            &#10;            // Try logging in with the plain text passwords from dummy_data.sql&#10;            String[] testPasswords = {&quot;hashedpassword1&quot;, &quot;hashedpassword2&quot;, &quot;adminpass&quot;};&#10;            int[] testUserIds = {1, 2, 1001};&#10;            &#10;            String selectSql = &quot;SELECT password FROM USERS WHERE userId = ?&quot;;&#10;            &#10;            for (int i = 0; i &lt; testPasswords.length; i++) {&#10;                try (PreparedStatement stmt = conn.prepareStatement(selectSql)) {&#10;                    stmt.setInt(1, testUserIds[i]);&#10;                    ResultSet rs = stmt.executeQuery();&#10;                    &#10;                    if (rs.next()) {&#10;                        String hashedPasswordFromDB = rs.getString(&quot;password&quot;);&#10;                        String plainTextPassword = testPasswords[i];&#10;                        &#10;                        boolean loginSuccess = PasswordUtil.verifyPassword(plainTextPassword, hashedPasswordFromDB);&#10;                        &#10;                        System.out.printf(&quot;User ID %d: Login with '%s' -&gt; %s\n&quot;, &#10;                            testUserIds[i], plainTextPassword, loginSuccess ? &quot;SUCCESS&quot; : &quot;FAILED&quot;);&#10;                    }&#10;                }&#10;            }&#10;            &#10;        } catch (Exception e) {&#10;            e.printStackTrace();&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/TestPasswordHashing.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/TestPasswordHashing.java" />
              <option name="originalContent" value="import db.DBConnection;&#10;import db.InitDB;&#10;import utils.PasswordUtil;&#10;import java.sql.Connection;&#10;import java.sql.PreparedStatement;&#10;import java.sql.ResultSet;&#10;&#10;public class TestPasswordHashing {&#10;    public static void main(String[] args) {&#10;        try (Connection conn = DBConnection.getConnection()) {&#10;            System.out.println(&quot;=== Password Hashing Test ===&quot;);&#10;&#10;            // Initialize database (create tables, load data, hash passwords)&#10;            InitDB.initializeDatabase(conn);&#10;&#10;            // Test login simulation - check if plain text passwords work with hashed ones&#10;            System.out.println(&quot;\n=== Testing Login Simulation ===&quot;);&#10;&#10;            // Try logging in with the plain text passwords from dummy_data.sql&#10;            String[] testPasswords = {&quot;hashedpassword1&quot;, &quot;hashedpassword2&quot;, &quot;adminpass&quot;};&#10;            int[] testUserIds = {1, 2, 1001};&#10;&#10;            String selectSql = &quot;SELECT password FROM USERS WHERE userId = ?&quot;;&#10;&#10;            for (int i = 0; i &lt; testPasswords.length; i++) {&#10;                try (PreparedStatement stmt = conn.prepareStatement(selectSql)) {&#10;                    stmt.setInt(1, testUserIds[i]);&#10;                    ResultSet rs = stmt.executeQuery();&#10;&#10;                    if (rs.next()) {&#10;                        String hashedPasswordFromDB = rs.getString(&quot;password&quot;);&#10;                        String plainTextPassword = testPasswords[i];&#10;&#10;                        boolean loginSuccess = PasswordUtil.verifyPassword(plainTextPassword, hashedPasswordFromDB);&#10;&#10;                        System.out.printf(&quot;User ID %d: Login with '%s' -&gt; %s\n&quot;,&#10;                            testUserIds[i], plainTextPassword, loginSuccess ? &quot;SUCCESS&quot; : &quot;FAILED&quot;);&#10;                    }&#10;                }&#10;            }&#10;&#10;        } catch (Exception e) {&#10;            e.printStackTrace();&#10;        }&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="import db.DBConnection;&#10;import db.InitDB;&#10;import utils.PasswordUtil;&#10;import java.sql.Connection;&#10;import java.sql.PreparedStatement;&#10;import java.sql.ResultSet;&#10;import java.sql.Statement;&#10;&#10;public class TestPasswordHashing {&#10;    public static void main(String[] args) {&#10;        try (Connection conn = DBConnection.getConnection()) {&#10;            System.out.println(&quot;=== Password Hashing Test ===&quot;);&#10;&#10;            // Clean up existing data first&#10;            try (Statement stmt = conn.createStatement()) {&#10;                stmt.execute(&quot;DROP TABLE IF EXISTS RATINGS&quot;);&#10;                stmt.execute(&quot;DROP TABLE IF EXISTS APPLICATIONS&quot;);&#10;                stmt.execute(&quot;DROP TABLE IF EXISTS NOTIFICATIONS&quot;);&#10;                stmt.execute(&quot;DROP TABLE IF EXISTS BADGES&quot;);&#10;                stmt.execute(&quot;DROP TABLE IF EXISTS OPPORTUNITIES&quot;);&#10;                stmt.execute(&quot;DROP TABLE IF EXISTS ORGANISATION&quot;);&#10;                stmt.execute(&quot;DROP TABLE IF EXISTS VOLUNTEER&quot;);&#10;                stmt.execute(&quot;DROP TABLE IF EXISTS ADMIN&quot;);&#10;                stmt.execute(&quot;DROP TABLE IF EXISTS USERS&quot;);&#10;                System.out.println(&quot;Cleaned up existing tables&quot;);&#10;            }&#10;&#10;            // Initialize database (create tables, load data, hash passwords)&#10;            InitDB.initializeDatabase(conn);&#10;&#10;            // Test login simulation - check if plain text passwords work with hashed ones&#10;            System.out.println(&quot;\n=== Testing Login Simulation ===&quot;);&#10;&#10;            // Try logging in with the plain text passwords from dummy_data.sql&#10;            String[] testPasswords = {&quot;hashedpassword1&quot;, &quot;hashedpassword2&quot;, &quot;adminpass&quot;};&#10;            int[] testUserIds = {1, 2, 1001};&#10;&#10;            String selectSql = &quot;SELECT password FROM USERS WHERE userId = ?&quot;;&#10;&#10;            for (int i = 0; i &lt; testPasswords.length; i++) {&#10;                try (PreparedStatement stmt = conn.prepareStatement(selectSql)) {&#10;                    stmt.setInt(1, testUserIds[i]);&#10;                    ResultSet rs = stmt.executeQuery();&#10;&#10;                    if (rs.next()) {&#10;                        String hashedPasswordFromDB = rs.getString(&quot;password&quot;);&#10;                        String plainTextPassword = testPasswords[i];&#10;&#10;                        boolean loginSuccess = PasswordUtil.verifyPassword(plainTextPassword, hashedPasswordFromDB);&#10;&#10;                        System.out.printf(&quot;User ID %d: Login with '%s' -&gt; %s\n&quot;,&#10;                            testUserIds[i], plainTextPassword, loginSuccess ? &quot;SUCCESS&quot; : &quot;FAILED&quot;);&#10;&#10;                        // Show a snippet of the hashed password for verification&#10;                        System.out.printf(&quot;  -&gt; Hash in DB starts with: %s...\n&quot;, &#10;                            hashedPasswordFromDB.substring(0, Math.min(10, hashedPasswordFromDB.length())));&#10;                    }&#10;                }&#10;            }&#10;&#10;        } catch (Exception e) {&#10;            e.printStackTrace();&#10;        }&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>